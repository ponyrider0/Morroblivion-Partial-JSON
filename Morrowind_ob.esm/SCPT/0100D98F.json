{
    "Record Header": {
        "Signature": "SCPT", 
        "Record Flags": {}, 
        "FormID": "0100D98F"
    }, 
    "EDID - Editor ID": "mwOBMEDetectEnchantmentEffectScript", 
    "SCHR - Basic Script Data": {
        "Unused": "00 00 00 00", 
        "RefCount": 5, 
        "CompiledSize": 1003, 
        "VariableCount": 20, 
        "Type": 256
    }, 
    "SCDA - Compiled Script": "1D 00 00 00 10 00 06 00 11 00 8A 00 00 00 15 00 07 00 66 09 00 02 00 20 33 15 00 07 00 73 0B 00 02 00 20 35 15 00 07 00 73 10 00 02 00 20 31 15 00 0B 00 73 02 00 06 00 20 58 F7 15 00 00 15 00 0B 00 66 05 00 06 00 20 58 CE 10 00 00 15 00 10 00 73 0E 00 0B 00 20 58 AE 15 05 00 01 00 73 02 00 15 00 10 00 73 03 00 0B 00 20 58 AD 15 05 00 01 00 73 02 00 15 00 10 00 66 0D 00 0B 00 20 73 03 00 20 32 31 2E 33 20 2A 15 00 07 00 66 06 00 02 00 20 35 11 00 00 00 10 00 06 00 13 00 49 03 00 00 15 00 11 00 66 06 00 0C 00 20 66 06 00 20 58 0C 10 00 00 20 2B 16 00 0F 00 39 00 0B 00 20 66 06 00 20 66 09 00 20 3E 3D 15 00 07 00 66 06 00 02 00 20 30 15 00 0F 00 73 0E 00 0A 00 20 73 0E 00 20 66 09 00 20 2D 16 00 0C 00 35 00 08 00 20 73 0E 00 20 30 20 3E 16 00 0E 00 01 00 0A 00 20 73 0E 00 20 73 0B 00 20 3E 15 00 09 00 73 0F 00 04 00 20 73 0B 00 17 00 02 00 01 00 15 00 09 00 73 0F 00 04 00 20 73 0E 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 15 00 66 11 00 10 00 20 58 08 16 0A 00 02 00 6E 46 00 00 00 73 10 00 6B 17 0D 00 C4 01 00 00 01 08 00 56 04 00 00 11 00 16 00 27 00 01 00 23 00 20 72 01 00 58 01 10 05 00 01 00 72 02 00 20 66 0D 00 20 3C 3D 20 58 89 14 05 00 01 00 72 01 00 20 26 26 1C 00 01 00 23 11 08 00 02 00 72 05 00 73 0F 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 0B 00 66 11 00 06 00 20 58 09 16 00 00 6C 17 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 15 00 66 11 00 10 00 20 58 08 16 0A 00 02 00 6E 17 00 00 00 73 10 00 6B 17 0D 00 DD 02 00 00 01 08 00 56 04 00 00 11 00 16 00 19 00 0C 00 15 00 20 72 01 00 58 01 10 05 00 01 00 72 02 00 20 66 0D 00 20 3C 3D 15 00 07 00 73 13 00 02 00 20 30 15 00 13 00 66 14 00 0E 00 20 72 01 00 58 27 14 05 00 01 00 73 13 00 6B 17 0D 00 B9 02 00 00 01 08 00 56 04 00 00 14 00 16 00 0F 00 02 00 0B 00 20 58 89 14 05 00 01 00 72 03 00 1C 00 01 00 23 11 08 00 02 00 72 05 00 73 0F 00 15 00 07 00 66 11 00 02 00 20 30 19 00 00 00 16 00 08 00 02 00 04 00 20 66 14 00 15 00 0D 00 73 13 00 08 00 20 73 13 00 20 31 20 2B 15 00 13 00 66 14 00 0E 00 20 72 01 00 58 27 14 05 00 01 00 73 13 00 19 00 00 00 6C 17 00 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 0B 00 66 11 00 06 00 20 58 09 16 00 00 6C 17 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 15 00 66 11 00 10 00 20 58 08 16 0A 00 02 00 6E 45 00 00 00 73 10 00 6B 17 0D 00 DF 03 00 00 01 08 00 56 04 00 00 11 00 16 00 19 00 0B 00 15 00 20 72 01 00 58 01 10 05 00 01 00 72 02 00 20 66 0D 00 20 3C 3D 15 00 07 00 73 13 00 02 00 20 30 6B 17 0D 00 BB 03 00 00 01 08 00 56 04 00 00 14 00 16 00 0F 00 02 00 0B 00 20 58 89 14 05 00 01 00 72 03 00 1C 00 01 00 23 11 08 00 02 00 72 05 00 73 0F 00 15 00 07 00 66 11 00 02 00 20 30 19 00 00 00 16 00 08 00 02 00 04 00 20 66 14 00 15 00 0D 00 73 13 00 08 00 20 73 13 00 20 31 20 2B 15 00 13 00 66 14 00 0E 00 20 72 01 00 58 27 14 05 00 01 00 73 13 00 19 00 00 00 6C 17 00 00 19 00 00 00 15 00 09 00 66 11 00 04 00 20 5A 04 00 15 00 0B 00 66 11 00 06 00 20 58 09 16 00 00 6C 17 00 00 19 00 00 00 19 00 00 00 11 00 00 00", 
    "SCTX - Script Source": "scn mwOBMEDetectEnchantmentEffectScript\n\nref rCaster\nfloat ftimer\nlong index\nlong mag\n\n\nfloat fDetectInterval\nshort iShaderDurationMax\n\nfloat fDistance\nlong  iDuration\nlong iSDuration\nshort iCellDepth\nref   rItem\nlong  iItem\n\nref rBoxItem\n\nBegin ScriptEffectStart\n\n\tset fDetectInterval to 3\n\tset iShaderDurationMax to 5\n\tset iCellDepth    to 1\n\n\tset index to GetScriptActiveEffectIndex\n\tset rCaster to GetSelf\n\tset iDuration to GetNthActiveEffectDuration index\n\tset mag to GetNthActiveEffectMagnitude index\n\tset fDistance to mag * 21.3\n\tset ftimer to 5\n\nEnd\n\nBegin ScriptEffectUpdate\n\tset ftimer to ftimer + GetSecondsPassed\n\tIf ftimer >= fDetectInterval\n\t\tset ftimer to 0\n\t\tset iDuration to iDuration - fDetectInterval\n\t\tif(iDuration > 0)\n\t\t\tif(iDuration > iShaderDurationMax)\n\t\t\t\tset iSDuration to iShaderDurationMax\n\t\t\telse\n\t\t\t\tset iSDuration to iDuration\n\t\t\tendif\n\n\t\t\tset rItem to Apple\n\t\t\tset rItem to GetFirstRef 70 iCellDepth\t\t\t;Detect Enchanted Items\n\t\t\twhile (rItem)\n\t\t\t\tif(rItem.GetDistance rCaster <= fDistance && GetEnchantment rItem)\n\t\t\t\t\trItem.PlayMagicShaderVisuals mwEffectDetectEnchantment iSDuration\n\t\t\t\tendif\n\t\t\t\tset rItem to Apple\n\t\t\t\tset rItem to GetNextRef\n\t\t\tloop\n\n\t\t\tset rItem to Apple\n\t\t\tset rItem to GetFirstRef 23 iCellDepth\t\t\t;Detect magic Items in Box\n\t\t\twhile (rItem)\n\t\t\t\tif(rItem.GetDistance rCaster <= fDistance)\n\t\t\t\t\tset iItem to 0\n\t\t\t\t\tset rBoxItem to rItem.GetInventoryObject iItem\n\t\t\t\t\twhile (rBoxItem)\n\t\t\t\t\t\tif GetEnchantment rBoxItem\n\t\t\t\t\t\t\trItem.PlayMagicShaderVisuals mwEffectDetectEnchantment iSDuration\n\t\t\t\t\t\t\tset rItem to 0\n\t\t\t\t\t\tendif\n\t\t\t\t\t\tif(rBoxItem)\n\t\t\t\t\t\t\tset iItem to iItem + 1\n\t\t\t\t\t\t\tset rBoxItem to rItem.GetInventoryObject iItem\n\t\t\t\t\t\tendif\n\t\t\t\t\tloop\n\t\t\t\tendif\n\t\t\t\tset rItem to Apple\n\t\t\t\tset rItem to GetNextRef\n\t\t\tloop\n\n\n\t\t\tset rItem to Apple\n\t\t\tset rItem to GetFirstRef 69 iCellDepth\t\t\t;Detect magic Items held by actors\n\t\t\twhile (rItem)\n\t\t\t\tif(rItem.GetDistance rCaster <= fDistance)\n\t\t\t\t\tset iItem to 0\n\t\t\t\t\twhile (rBoxItem)\n\t\t\t\t\t\tif GetEnchantment rBoxItem\n\t\t\t\t\t\t\trItem.PlayMagicShaderVisuals mwEffectDetectEnchantment iSDuration\n\t\t\t\t\t\t\tset rItem to 0\n\t\t\t\t\t\tendif\n\t\t\t\t\t\tif(rBoxItem)\n\t\t\t\t\t\t\tset iItem to iItem + 1\n\t\t\t\t\t\t\tset rBoxItem to rItem.GetInventoryObject iItem\n\t\t\t\t\t\tendif\n\t\t\t\t\tloop\n\t\t\t\tendif\n\t\t\t\tset rItem to Apple\n\t\t\t\tset rItem to GetNextRef\n\t\t\tloop\n\n\n\t\tendif\n\tendif\nEnd\n;<CSEBlock>\n;<CSECaretPos> 409 </CSECaretPos>\n;</CSEBlock>", 
    "Local Variables": [
        {
            "SLSD - Local Variable Data": {
                "Index": 2, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "index"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 3, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "mag"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 5, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {}
            }, 
            "SCVR - Name": "rCaster"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 6, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {}
            }, 
            "SCVR - Name": "ftimer"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 9, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {}
            }, 
            "SCVR - Name": "fDetectInterval"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 11, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "iShaderDurationMax"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 13, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {}
            }, 
            "SCVR - Name": "fDistance"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 14, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "iDuration"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 15, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "iSDuration"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 16, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "iCellDepth"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 17, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {}
            }, 
            "SCVR - Name": "rItem"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 19, 
                "Unused": "00 00 00 00 00 00 00", 
                "Flags": {
                    "IsLongOrShort": true
                }
            }, 
            "SCVR - Name": "iItem"
        }, 
        {
            "SLSD - Local Variable Data": {
                "Index": 20, 
                "Unused": "68 61 6E 74 6D 65 6E", 
                "Flags": {}
            }, 
            "SCVR - Name": "rBoxItem"
        }
    ], 
    "References": [
        17, 
        5, 
        20, 
        "Apple", 
        "mwEffectDetectEnchantment"
    ]
}